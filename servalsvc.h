///////////////////////////////////////////////////////////////////////
//
//            @@@ 
//            @@@
//   @@@@@@@  @@@@@@@@  @@   @@@ @@   @@@@@@@  @@@   @@  @@@@@@@
//  @@    @@@ @@@   @@@  @@  @@  @@  @@    @@@ @@@   @@  @@@@
//  @@    @@@ @@@   @@@  @@@@@   @@  @@    @@@ @@@   @@      @@@
//   @@@@@@@  @@@@@@@@    @@@    @@   @@@@@@@   @@@@@@@  @@@@@@@  @@
//
//             ,(/*                                             .  
//             . *  ,#                                     **,*,/
//          ,        ,.#                                 / * ,., *
//         ,* ./.     ,. .                             (* . * *,
//        . . **(/* . .   %                           (.( /.*#/   ,
//      /..,./,//* ,* / ., %                        (    /(/./,*   .
//          ,  * (*/*( /. ,,(                      *. *,*(,*. (/*  .
//        /(/*#%/..**,    , **.                  .*/  /##/((/.,/*(.(   .
//   ,         (%####/# /   ..,                 .,/,*/#(((/((**(..
//   **   ,  **##((   /*     *.,               .* ,,/%##(####.       ,*(
// .  ,          ,,(##// *      .              ,*,./* ,,              *
//                ,*.,#/((.     **            ,,.*  .* ,             /
//                  #/#/,  ,    */,          .,  ..,((* ( *((. .
//            , ,.(*%(%/,  .   /*.*           *.    */,/%%. ,//,* /
//   ##/    .* /%%%##(/,*  ...   ./          / *..(/((//*..     .  ,
//             .*(.**/*   , *(*   #          ..../.(  ,/( *
//               .&(  , , ,,/* **//*        ( ,*/ %##((*. .*%(*       /
// /(            % #, .     (,   %(/        */,.(,(,     /(*,//     (#
//  .    . /&((/,    .   .*/.#* .* #        . *,( (      .(#%(       /
//        ,  %#%*      * ((#* # ,    . . /   . /*#*.(,%,####        /
//  *     ,#(/#(# /.(#, /.(  * ,.  .   *    *     ((/,*/*(((##/     #
//  *    /#(#(* ,/./,(*(/ ,*  /../   .*,  ((   .(..., //..*((#(#/  ,/
//      /#%(&(*/(,((#*/.  ((.#.  #..   .. #  ..   *.*.//#(//(((&%(,/
//   (/ #%##* ,/(( # /#((   .*.   ..*# (,((/, // * */  ((#(#(#/#&(
//  ,( &(,//((#(#/.,  .,. .,    #/( *(. ##, .*.  .&/  *#(((,/&&%.
//  //#&%##  /(%%#.(  /,./  /&.  /#(%(* #%,((.*%(* *//(. .* (./((%@@&
//  ,#%&%/* /* (.,( ./##*@/#@%#. #%##%.*#((%%.#%*   %,%,*###/#.**///%*
//  (/%((/,#.,*((%#*#/(#.       %@@%*//%/#%%%%(&%        %*&/%%*#%(  /
//   ,          (          #      @@#,/%&#/(@%   /         .(   .*
//    .  .*.*   %#%#@@#            @&.%#(##,,&@#          @@(,    , /#
//   (  (   /(/   &,(&@@.          @@#%#/##( @@%         @@(%@#,,    #.
// (/,(,     .   *#@#@@&  % ,     ,%/%((/* %*&(,(    .%&(@/ %.  /    **
// ##   *    &%  , %@%*###*,(,     #(/%%(% .&.&*    &/,,%@*@(,# #&   (
// (#* /(#,#%&@&(   /&/%@,%,(@//  ,      .    * ./ ./,&@/#* #.#&/&&*/
// ///%&&%,.,% ./, (&%@.%/ ,*%,,       . , .  / ,%#* (   &%%%# .(
// *    #@@%(   @@&@%*.#%&*#%. %%*        /       ,@..&,.   #&/ (#%%,
// *#. .&@@% .,#&%&@@@@(*&@#.*@@@&        (       &@@% /*(%@&  .#%&/
// ,/%#%&&&    .&@&@&@@@&@&%*#@@%@@@/           @@@@/ #%&%(%#  (  %&%,
// ./#%%&&&( (&&%#*,&@@&@@@@@@@@@@@@.       /@@@@@@@@@#(/  *#( (%&%/,
//   /%%%%*     %&.&&&(#/ *&,@*@@@@@@@&(*   #&@%@@@@@@%( #(((*/(# ./,
//    /*  .%*( *,(&&(@#/.( #&@#@#&%@@(   ..#(,&&%%(# /./      //,
//     ./***/(.  * * /.%%%%@#% //##%#         %*(#*%((/(#  . % ,##((
//     . //#%%/%%(#(#*/  /(#%@#*  %@&(%#//((# ,##(      ./%#,/   ,
//       ,(. //#%&%&%%#(#(, ,//./#%@@&@@@%@%*#%( /,,,**//(( #  .
//       ., ./ . /,#(%%%%&&&%(#/*.  .####(%#*(/(**#(####/**,#   .
//               . (*,&%&&%&%#*,.., , ,*,,,(/**/(///,..*((/#* *((
//              ,(#((#%%%%%####/#*,/ *#./ .. /.,., ..,,/((###%%%&%((
//             /#%%%#%##%&%%%#####/(*((***.,/*  ,.**//((#%%%%&&&&%#(*
//
// Copyright Â© 2019,
// 4iiii Innovations Inc.,
// Cochrane, Alberta, Canada.
// All rights reserved.
// Redistribution and use in source and binary forms, with or without
// modification, are not permitted without express written approval of
// 4iiii Innovations Inc.
///////////////////////////////////////////////////////////////////////


#if !defined(SERVALSVC_H_)
#define SERVALSVC_H_

#include "nrf_mbr.h"
#include "nrf_svc.h"

#include <stdint.h>


#if defined(__cplusplus)
   extern "C"
   {
#endif

#define SERVALSVC_COMMAND_IS_CAPABILITY_ENABLED ((uint32_t) 0x100)
#define SERVALSVC_COMMAND_GET_VERSION           ((uint32_t) 0x101)

struct SERVALSVC_COMMAND_IS_CAPABILITY_ENABLED_PARAMS
{
   const uint8_t *uuid;
};
struct SERVALSVC_VERSION
{
   uint16_t release;
   uint16_t major;
   uint16_t minor;
};
struct SERVALSVC_COMMAND_GET_VERSION_PARAMS
{
   struct SERVALSVC_VERSION* version;
};
struct SERVALSVC_COMMAND
{
   uint32_t command;
   union
   {
      struct SERVALSVC_COMMAND_IS_CAPABILITY_ENABLED_PARAMS is_capability_enabled;
      struct SERVALSVC_COMMAND_GET_VERSION_PARAMS get_version;
   } params;
};


SVCALL(SD_MBR_COMMAND, uint32_t, servalsvc_command(struct SERVALSVC_COMMAND* command));

#if defined(__cplusplus)
   }
#endif

#endif // !defined(SERVALSVC_H_)

